@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }
  
  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }
  
  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }
}

/* Human-Centered Design System for AI Products
   Inspired by Stripe's financial clarity, Apple Mail's typography, and Linear's minimalism
   Built for high-trust, early-stage environments with thoughtful imperfections */

@layer base {
  :root {
    /* Core Brand Foundation - Thoughtfully Muted */
    --background: 0 0% 99.5%;           /* Softer than pure white */
    --foreground: 220 15% 25%;          /* Warm dark gray, not black */
    --card: 220 20% 98%;                /* Subtle warm tint */
    --card-foreground: 220 15% 25%;
    --popover: 0 0% 100%;
    --popover-foreground: 220 15% 25%;
    
    /* Sophisticated Primary - Forest Green with Humanity */
    --primary: 147 55% 16%;             /* Deep forest, slightly warmer */
    --primary-foreground: 0 0% 98%;
    --primary-soft: 147 45% 96%;        /* Ultra-light background tint */
    --primary-muted: 147 30% 92%;       /* Gentle accent */
    --primary-glow: 147 50% 45%;        /* Interactive states */
    
    /* Nuanced Neutrals - Avoid Perfect Gray */
    --muted: 220 25% 96%;               /* Warm undertone */
    --muted-foreground: 220 10% 50%;    /* Readable but soft */
    --muted-alt: 35 20% 96%;            /* Slight cream variation */
    
    /* Intentional Status Colors - Subdued but Clear */
    --success: 142 65% 35%;             /* Forest green family */
    --success-foreground: 0 0% 98%;
    --success-light: 142 45% 95%;
    
    --warning: 35 80% 50%;              /* Warm amber */
    --warning-foreground: 0 0% 98%;
    --warning-light: 35 55% 95%;
    
    --destructive: 0 75% 55%;           /* Not too aggressive */
    --destructive-foreground: 0 0% 98%;
    
    /* Subtle Borders - Imperfect but Intentional */
    --border: 220 20% 90%;              /* Soft definition */
    --border-light: 220 15% 94%;        /* Barely there */
    --border-strong: 220 25% 85%;       /* When needed */
    --input: 220 20% 97%;
    --ring: 147 55% 45%;                /* Focus states */
    
    /* Editorial Accent System */
    --accent: 147 40% 65%;              /* Muted green */
    --accent-foreground: 0 0% 98%;
    --accent-light: 147 35% 88%;
    --accent-soft: 147 25% 95%;
    
    /* Finance-Specific Tokens */
    --finance: 147 55% 16%;             /* Inherits primary trust */
    --finance-foreground: 0 0% 98%;
    --finance-light: 147 45% 35%;
    --finance-neutral: 220 15% 45%;
    
    /* Secondary Palette - Warm Grays */
    --secondary: 220 15% 35%;
    --secondary-foreground: 0 0% 98%;
    --secondary-light: 220 20% 88%;
    --secondary-soft: 220 15% 96%;
    
    --radius: 0.75rem;
  }

  .dark {
    /* Dark mode with human warmth */
    --background: 220 25% 8%;
    --foreground: 35 15% 92%;           /* Warm cream vs stark white */
    --card: 220 20% 12%;
    --card-foreground: 35 15% 92%;
    --popover: 220 20% 12%;
    --popover-foreground: 35 15% 92%;
    
    --primary: 147 50% 35%;             /* Brighter in dark */
    --primary-foreground: 35 15% 92%;
    --primary-soft: 147 40% 15%;
    --primary-muted: 147 30% 20%;
    
    --muted: 220 20% 18%;
    --muted-foreground: 220 10% 65%;
    --muted-alt: 35 15% 18%;
    
    --success: 147 50% 45%;
    --warning: 35 70% 55%;
    --destructive: 0 70% 60%;
    
    --border: 220 20% 25%;
    --border-light: 220 15% 22%;
    --border-strong: 220 25% 30%;
    --input: 220 20% 20%;
    --ring: 147 50% 35%;
    
    --accent: 35 50% 75%;
    --accent-foreground: 220 25% 8%;
    
    --finance: 147 50% 35%;
    --secondary: 220 15% 40%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    min-height: 100vh;
    font-family: "Inter", system-ui, -apple-system, sans-serif;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    font-variation-settings: normal;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Human-Centered Design Components */
@layer base {
  :root {
    /* Organic Shadow System - Soft, Layered, Never Harsh */
    --shadow-whisper: 0 1px 3px -1px hsl(220 15% 25% / 0.06);
    --shadow-soft: 0 2px 8px -2px hsl(220 15% 25% / 0.08), 0 1px 4px -1px hsl(220 15% 25% / 0.06);
    --shadow-lift: 0 4px 16px -4px hsl(220 15% 25% / 0.1), 0 2px 8px -2px hsl(220 15% 25% / 0.08);
    --shadow-float: 0 8px 32px -8px hsl(220 15% 25% / 0.12), 0 4px 16px -4px hsl(220 15% 25% / 0.08);
    --shadow-elevated: 0 16px 48px -12px hsl(220 15% 25% / 0.15), 0 8px 24px -6px hsl(220 15% 25% / 0.1);
    --shadow-focus: 0 0 0 3px hsl(var(--ring) / 0.15), 0 0 0 6px hsl(var(--ring) / 0.08);
    --shadow-glow: 0 0 24px hsl(var(--primary) / 0.25);
    
    /* Thoughtful Animation Curves - Never Robotic */
    --ease-gentle: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
    --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-human: cubic-bezier(0.23, 1, 0.32, 1);
  }
}

@layer components {
  /* Editorial Typography - Inspired by Apple Mail & Linear */
  .text-editorial {
    @apply text-lg leading-relaxed text-foreground/90 font-medium tracking-[0.01em];
    font-feature-settings: "kern", "liga", "cv02";
  }
  
  .text-quiet {
    @apply text-sm text-muted-foreground/75 font-normal leading-relaxed tracking-wide;
  }
  
  .text-emphasis {
    @apply text-2xl font-semibold text-foreground tracking-tight leading-tight;
    font-feature-settings: "kern", "liga", "cv03";
  }
  
  .text-data {
    @apply font-mono text-sm tabular-nums tracking-[0.02em] text-foreground/85;
  }
  
  .text-hero {
    @apply text-3xl md:text-4xl font-semibold text-foreground tracking-[-0.02em] leading-[1.1];
    font-feature-settings: "kern", "liga", "cv01", "cv03";
  }
  
  /* Organic Layout System - Asymmetric but Balanced */
  .layout-organic {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: clamp(1rem, 2.5vw, 2rem);
    padding: clamp(1rem, 3vw, 2.5rem);
  }
  
  /* Editorial Card System - Thoughtfully Imperfect */
  .card-editorial {
    @apply bg-card/60 backdrop-blur-sm border border-border/40
           shadow-[var(--shadow-soft)]
           hover:shadow-[var(--shadow-lift)]
           hover:bg-card/80 hover:border-border/60
           transition-all duration-500;
    border-radius: 0.875rem 1rem 0.875rem 0.95rem; /* Slightly organic */
    transform-origin: center;
    transition-timing-function: var(--ease-gentle);
  }
  
  .card-editorial:hover {
    transform: translateY(-2px) scale(1.005);
  }
  
  .card-featured {
    @apply bg-gradient-to-br from-card/90 via-card to-primary-soft/30
           backdrop-blur-md border border-border/30
           shadow-[var(--shadow-lift)]
           hover:shadow-[var(--shadow-float)]
           transition-all duration-500;
    border-radius: 1rem 1.125rem 1rem 1.075rem;
    transition-timing-function: var(--ease-human);
  }
  
  .card-featured:hover {
    transform: translateY(-4px) scale(1.008);
  }
  
  /* Asymmetric Panel System - Editorial Layout */
  .panel-wide {
    @apply col-span-12 lg:col-span-8 xl:col-span-9;
    padding: clamp(1.5rem, 4vw, 3rem) clamp(1.5rem, 4vw, 2.5rem);
  }
  
  .panel-compact {
    @apply col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3;
    padding: clamp(1rem, 3vw, 2rem) clamp(1rem, 3vw, 1.5rem);
  }
  
  .panel-featured {
    @apply col-span-12 md:col-span-8 lg:col-span-7;
    padding: clamp(2rem, 5vw, 3.5rem) clamp(1.5rem, 4vw, 2.5rem) clamp(1.5rem, 4vw, 2rem);
  }
  
  /* Breathing Space System - Organic Rhythm */
  .space-breathe-sm { margin-bottom: clamp(1rem, 2.5vw, 1.5rem); }
  .space-breathe-md { margin-bottom: clamp(1.5rem, 4vw, 2.5rem); }
  .space-breathe-lg { margin-bottom: clamp(2rem, 6vw, 4rem); }
  .space-breathe-xl { margin-bottom: clamp(3rem, 8vw, 6rem); }
  
  /* Weighted Padding Logic - Never Uniform */
  .padding-top-heavy {
    padding: clamp(2rem, 5vw, 3rem) clamp(1rem, 3vw, 1.5rem) clamp(0.5rem, 1.5vw, 1rem);
  }
  
  .padding-bottom-heavy {
    padding: clamp(0.5rem, 1.5vw, 1rem) clamp(1rem, 3vw, 1.5rem) clamp(2rem, 5vw, 3rem);
  }
  
  .padding-balanced {
    padding: clamp(1.5rem, 4vw, 2.5rem);
  }
  
  /* Organic Button Variations - Stripe-Inspired */
  .btn-organic-primary {
    @apply px-6 py-3 bg-primary text-primary-foreground font-medium
           border border-primary/20
           shadow-[var(--shadow-soft)]
           hover:shadow-[var(--shadow-lift)]
           hover:bg-primary/90 hover:-translate-y-0.5 hover:scale-[1.02]
           active:scale-[0.98] active:translate-y-0
           transition-all duration-300;
    border-radius: 0.75rem 0.875rem 0.75rem 0.825rem;
    transition-timing-function: var(--ease-gentle);
  }
  
  .btn-organic-secondary {
    @apply px-5 py-2.5 bg-muted/40 text-foreground/85 font-medium
           border border-border/30
           shadow-[var(--shadow-whisper)]
           hover:bg-muted/60 hover:border-border/50
           hover:-translate-y-0.5 hover:scale-[1.015]
           active:scale-[0.985]
           transition-all duration-300;
    border-radius: 0.625rem 0.75rem 0.625rem 0.7rem;
    transition-timing-function: var(--ease-human);
  }
  
  .btn-organic-ghost {
    @apply px-4 py-2 text-muted-foreground/70 font-normal
           border border-transparent
           hover:bg-muted/30 hover:text-foreground/90 hover:border-border/20
           hover:scale-105 hover:-translate-y-0.5
           active:scale-[0.95]
           transition-all duration-200;
    border-radius: 0.5rem 0.625rem 0.5rem 0.575rem;
    transition-timing-function: var(--ease-bounce);
  }
  
  /* Micro-delight Interactions - Never Sterile */
  .delight-scale {
    @apply hover:scale-[1.03] active:scale-[0.97] 
           transition-transform duration-150;
    transition-timing-function: var(--ease-bounce);
  }
  
  .delight-lift {
    @apply hover:-translate-y-1 hover:shadow-[var(--shadow-lift)] 
           active:translate-y-0 active:shadow-[var(--shadow-soft)]
           transition-all duration-200;
    transition-timing-function: var(--ease-gentle);
  }
  
  .delight-glow {
    @apply hover:shadow-[var(--shadow-glow)] hover:border-primary/40
           transition-all duration-300 ease-out;
  }
  
  /* Layered Visual Hierarchy - Depth without Flatness */
  .layer-float {
    @apply relative z-10 bg-card/70 backdrop-blur-md border border-border/30
           shadow-[var(--shadow-lift)]
           hover:shadow-[var(--shadow-float)]
           transition-all duration-500;
    transition-timing-function: var(--ease-gentle);
  }
  
  .layer-base {
    @apply relative z-0 bg-muted/20 backdrop-blur-[2px] border border-border/20;
  }
  
  /* Metric Cards - Finance UI Inspired */
  .metric-card {
    @apply bg-card border border-border/30 p-6 
           shadow-[var(--shadow-soft)]
           hover:shadow-[var(--shadow-lift)]
           hover:scale-[1.02] hover:-translate-y-1
           transition-all duration-500
           cursor-pointer backdrop-blur-sm
           relative overflow-hidden;
    border-radius: 0.75rem 0.875rem 0.75rem 0.825rem;
    transition-timing-function: var(--ease-gentle);
  }
  
  .metric-card::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-br from-primary/[3%] to-transparent
           opacity-0 hover:opacity-100 transition-opacity duration-500;
  }
  
  .metric-value {
    @apply text-2xl font-bold text-foreground relative z-10;
    font-feature-settings: "tnum", "kern";
  }
  
  .metric-label {
    @apply text-sm text-muted-foreground font-medium relative z-10;
  }
  
  /* Status Badges - Subtle but Clear */
  .status-active {
    @apply bg-success/10 text-success border border-success/20 
           hover:bg-success/15 hover:scale-105 hover:-translate-y-0.5
           transition-all duration-300 font-medium px-3 py-1;
    border-radius: 0.5rem 0.625rem 0.5rem 0.575rem;
  }
  
  .status-pending {
    @apply bg-warning/10 text-warning border border-warning/20
           hover:bg-warning/15 hover:scale-105 hover:-translate-y-0.5
           transition-all duration-300 font-medium px-3 py-1;
    border-radius: 0.5rem 0.625rem 0.5rem 0.575rem;
  }
  
  /* Editorial Grid System - Magazine Layout */
  .grid-editorial {
    display: grid;
    grid-template-columns: 
      [full-start] minmax(1rem, 1fr) 
      [wide-start] minmax(0, 2rem) 
      [main-start] min(65ch, calc(100% - 2rem)) [main-end]
      minmax(0, 2rem) [wide-end]
      minmax(1rem, 1fr) [full-end];
    row-gap: clamp(1rem, 3vw, 2rem);
  }
  
  .grid-editorial > * { grid-column: main; }
  .grid-editorial > .wide { grid-column: wide; }
  .grid-editorial > .full { grid-column: full; }
  
  /* Tab System - Linear-Inspired */
  .tabs-organic {
    @apply border-b border-border/30;
  }
  
  .tabs-organic .tab-trigger {
    @apply px-4 py-2 text-muted-foreground font-medium
           border-b-2 border-transparent
           hover:text-foreground hover:border-border/50
           data-[state=active]:text-foreground data-[state=active]:border-primary
           transition-all duration-200;
    transition-timing-function: var(--ease-smooth);
  }
  
  /* Progress Indicators - Thoughtful Motion */
  .progress-organic {
    @apply h-2 bg-muted/40 overflow-hidden;
    border-radius: 0.25rem 0.375rem 0.25rem 0.325rem;
  }
  
  .progress-organic .progress-bar {
    @apply h-full bg-gradient-to-r from-primary to-primary-glow
           transition-all duration-700;
    transition-timing-function: var(--ease-human);
  }
  
  /* Focus States - Accessible but Beautiful */
  .focus-organic {
    @apply focus:outline-none focus:ring-0 focus:shadow-[var(--shadow-focus)];
  }
  
  /* Gentle Animations - Never Jarring */
  .animate-gentle-fade {
    animation: gentle-fade 0.6s var(--ease-gentle) both;
  }
  
  .animate-gentle-slide {
    animation: gentle-slide 0.5s var(--ease-gentle) both;
  }
  
  /* Staggered Reveals - Editorial Flow */
  .stagger-1 { animation-delay: 0ms; }
  .stagger-2 { animation-delay: 100ms; }
  .stagger-3 { animation-delay: 200ms; }
  .stagger-4 { animation-delay: 300ms; }
  .stagger-5 { animation-delay: 400ms; }
}

@keyframes gentle-fade {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes gentle-slide {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Responsive Refinements */
@media (max-width: 768px) {
  .layout-organic {
    grid-template-columns: 1fr;
    gap: clamp(0.75rem, 2vw, 1.25rem);
    padding: clamp(0.75rem, 2.5vw, 1.5rem);
  }
  
  .panel-wide,
  .panel-compact,
  .panel-featured {
    @apply col-span-1;
    padding: clamp(1rem, 3vw, 1.5rem);
  }
}

/* Dark Mode Adjustments */
@media (prefers-color-scheme: dark) {
  :root {
    --shadow-whisper: 0 1px 3px -1px hsl(0 0% 0% / 0.3);
    --shadow-soft: 0 2px 8px -2px hsl(0 0% 0% / 0.4), 0 1px 4px -1px hsl(0 0% 0% / 0.3);
    --shadow-lift: 0 4px 16px -4px hsl(0 0% 0% / 0.5), 0 2px 8px -2px hsl(0 0% 0% / 0.4);
    --shadow-float: 0 8px 32px -8px hsl(0 0% 0% / 0.6), 0 4px 16px -4px hsl(0 0% 0% / 0.4);
    --shadow-elevated: 0 16px 48px -12px hsl(0 0% 0% / 0.7), 0 8px 24px -6px hsl(0 0% 0% / 0.5);
  }
}